# 분석 결과 보고서
# 과일 품질 등급 분류를 통한 소비자 의사결정 방향 제시 연구

------------------------------------------------------------------------

## 1. 서론

### 1.1. 연구 배경

현대 소비자들은 농산물 구매 시 품질을 중요한 의사결정 요인으로 고려한다.
특히 동네 마트와 같은 소규모 유통 채널에서는 과일의 품질 등급이 명확하게 표시되지 않는 경우가 많아, 소비자들이 육안으로만 품질을 판단해야 하는 어려움이 존재한다. 이러한 정보 비대칭은 소비자의 합리적 구매 의사결정을 저해하며, 품질에 대한 불확실성은 구매 만족도 저하로 이어질 수 있다.

최근 컴퓨터 비전과 딥러닝 기술의 발전은 농산물 품질 분류 자동화의 가능성을 열었다. 특히 객체 탐지(Object Detection) 기술은 이미지에서 과일의 종류를 식별하는 동시에 품질 등급을 분류할 수 있는 잠재력을 지니고 있다. 이는 소비자에게 객관적인 품질 정보를 제공함으로써 보다 합리적인 구매 결정을 지원할 수 있다.

### 1.2. 연구 목적

본 연구는 딥러닝 기반 객체 탐지 모델을 활용하여 과일의 품질 등급을 자동으로 분류하고, 이를 통해 동네 마트를 이용하는 소비자의 의사결정을 지원하는 시스템을 구축하는 것을 목적으로 한다. 구체적으로 YOLOv5와 EfficientDet 모델의 성능을 비교 분석하여 과일 품질 분류에 가장 적합한 모델을 도출하고자 한다.

### 1.3. 연구 가설

-   **H1:** 소비자는 품질이 좋은 과일을 선호할 것이다.
-   **H2:** 딥러닝 기반 객체 탐지 모델은 과일의 형태, 색상, 질감 정보를 통합적으로 학습하여 높은 정확도로 품질 등급을 분류할 수 있을 것이다.
-   **H3:** YOLOv5는 실시간 처리 속도와 정확도 측면에서 EfficientDet보다 과일 품질 분류 작업에 더 적합할 것이다.

### 1.4. 연구 범위 및 대상

  항목              내용
  ----------------- ---------------------------
  **과일 종류**     사과, 배, 감 (3종)
  **품질 등급**     특상, 상, 보통 (3단계)
  **분류 클래스**   총 9개 (3종 × 3등급)
  **등급 기준**     국립농산물품질관리원 기준

------------------------------------------------------------------------

## 2. 본론

### 2.1. 데이터셋 구축

#### 2.1.1. 데이터 출처 및 구성

AI Hub의 농산물 품질 이미지 데이터셋 활용 (사과, 배, 감 / 총 900장)

#### 2.1.2. 품질 등급 기준

  -----------------------------------------------------------------------
  등급                                설명
  ----------------------------------- -----------------------------------
  **특** :                             형태가 균일하고, 색택이 우수하며, 병해충 피해가 전혀 없는 최상급 품질

  **상** :                             형태가 양호하고, 색택이 보통 이상이며, 경미한 결점이 허용되는 상급 품질

  **보통** :                            형태와 색택이 보통이며, 일부 결점이 허용되는 중급 품질
  -----------------------------------------------------------------------

#### 2.1.3. 데이터 전처리

-   이미지 크기 정규화 (640×640)
-   데이터 분할: 학습 80%, 검증 10%, 테스트 10%

  과일       특상      상        보통      합계
  ---------- --------- --------- --------- ---------
  사과       100       100       100       300
  배         100       100       100       300
  감         100       100       100       300
  **합계**   **300**   **300**   **300**   **900**

※ 균형 잡힌 데이터셋 구성

------------------------------------------------------------------------

### 2.2. 모델 선정 및 아키텍처

#### 2.2.1. YOLOv5

-   통합적 특징 학습 (형태, 색상, 질감 동시 처리)
-   빠른 추론 속도 및 높은 정확도
-   CSPDarknet53 + PANet + Detection Layer 구조 활용

#### 2.2.2. EfficientDet

-   EfficientNet 기반, BiFPN 사용
-   Compound Scaling으로 효율성과 정확성의 균형 유지
-   다양한 크기의 과일 및 세밀한 품질 차이 탐지에 적합

------------------------------------------------------------------------

### 2.3. 실험 설계

  항목         YOLOv5                 EfficientDet
  ------------ ---------------------- --------------------
  Epoch        100 (조기 종료 30)     100 (조기 종료 30)
  Batch Size   8                      4
  학습 시간    약 40분                약 100분
  GPU 환경     제한적 (메모리 제약)   동일

#### 평가 지표

-   Accuracy, Precision, Recall, F1-Score, mAP, FPS
-   Confusion Matrix 시각화

------------------------------------------------------------------------

### 2.4. 실험 결과

  성능 지표      YOLOv5   EfficientDet   차이
  -------------- -------- -------------- ---------
  정확도         0.995    0.867          +12.8%p
  mAP@0.5        0.995    0.871          +12.4%p
  mAP@0.5:0.95   0.994    0.867          +12.7%p
  Precision      0.993    0.867          +12.6%p
  Recall         0.995    0.884          +11.1%p
  FPS            30       17.6           +12.4

**YOLOv5 강점:**
- 정확도 99.5% 달성
- 2.5배 빠른 학습 속도
- 실시간 처리(30FPS) 가능
- 모든 클래스에서 균일한 성능 유지

------------------------------------------------------------------------

### 2.5. 클래스별 성능 분석

#### YOLOv5 결과

모든 클래스에서 **Precision, Recall, F1-Score ≈ 99%** 유지

#### EfficientDet 문제점

-   일부 클래스 탐지 실패 (예: 사과_특상 0%)
-   등급 간 혼동 (예: 배_특상 ↔ 배_상)
-   전체 정확도 73.3%

------------------------------------------------------------------------

### 2.6. 오분류 패턴 및 원인 분석

  -----------------------------------------------------------------------
  원인              설명              개선 방안
  ----------------- ----------------- -----------------------------------
  데이터셋 경계     등급 간 구분      초분광 이미지 기반 객관적 기준 확보
  모호성            어려움            

  이미지 품질 차이  조명·각도 불일치  표준 촬영 환경 구축

  등급 정의의       라벨 노이즈 존재  다중 평가자 검증 프로세스 도입
  주관성                              
  -----------------------------------------------------------------------

**오분류율:**
- YOLOv5: 0.5%
- EfficientDet: 13.3%

------------------------------------------------------------------------

### 2.7. 하이퍼파라미터 및 데이터 증강

-   Epoch, Batch, Learning Rate, 이미지 크기, 신뢰도 임계값 조절
-   Optuna를 활용한 최적화 시도
-   데이터 증강은 미실시 (향후 과제)

------------------------------------------------------------------------

### 2.8. 결과 요약

  평가 항목         YOLOv5            EfficientDet
  ----------------- ----------------- ---------------
  동네 마트 적용    ⭐⭐⭐⭐⭐ 적합   ⭐⭐ 부적합
  실시간 분류       ⭐⭐⭐⭐⭐ 가능   ⭐⭐⭐ 제한적
  유지보수 편의성   ⭐⭐⭐⭐⭐ 우수   ⭐⭐⭐ 보통

**주요 결론:**
- YOLOv5가 99.5% 정확도로 압도적인 성능
- 실시간 과일 품질 분류 가능
- 소규모 데이터셋에서도 높은 성능 확보

------------------------------------------------------------------------

## 3. 결론 및 제언

### 3.1. 결론

딥러닝 기반 객체 탐지 기술을 소비자 중심의 품질 평가에 적용하여, 실시간
의사결정 지원이 가능한 방향성을 제시하였다. 향후 다양한 환경 데이터와
품종 확장을 통해 모델의 일반화 성능을 검증할 필요가 있다.

### 3.2. 제언

#### 연구의 한계

-   데이터셋 규모 및 지역 제한
-   등급 기준의 주관성
-   과일 종류의 제한 (3종)
-   환경 요인의 영향 존재

#### 향후 개선 방안

-   데이터 확장 및 다양화
-   실환경 테스트를 통한 모델 검증
-   내부 품질 정보(당도·경도 등) 융합
-   멀티모달 데이터 기반 품질 평가
-   모바일 경량화 및 실시간 적용

#### 제안

-   생산-소비 단계 연계 데이터 구축
-   소비자 맞춤형 품질 안내 서비스 개발
-   푸드테크 확장 및 지속 가능한 유통 지원

------------------------------------------------------------------------

## 참고 및 부록 (References & Appendix)

-   [AI Hub - 농산물 품질 데이터셋](https://aihub.or.kr/aihubdata/data/view.do?dataSetSn=149)
-   [국립농산물품질관리원 - 등급규격](https://www.naqs.go.kr/)
-   [YOLOv5 공식 Repository](https://github.com/ultralytics/yolov5)
-   [EfficientDet 논문](https://arxiv.org/pdf/1911.09070)
-   [Fruits Freshness CategorizationPaper](https://online-journals.org/index.php/i-joe/article/view/21833/9223)
-   [Frontiers in Psychology, 2021](https://www.frontiersin.org/journals/psychology/articles/10.3389/fpsyg.2021.713295/full)

------------------------------------------------------------------------

**보고서 작성일:** 2025년 11월 12일\
**프로젝트 기간:** 2025.11.03 - 2025.11.14\
**작성자:** 팀 Fruits (한대성, 김소영, 이주형)
